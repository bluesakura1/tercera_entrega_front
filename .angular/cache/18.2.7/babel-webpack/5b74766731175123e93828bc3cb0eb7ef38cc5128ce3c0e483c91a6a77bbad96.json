{"ast":null,"code":"import { ReactiveFormsModule, Validators } from '@angular/forms';\nimport { CommonModule } from '@angular/common';\nimport { RouterLink } from '@angular/router';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"../../../services/supabase/review.service\";\nimport * as i3 from \"@angular/common\";\nfunction ReviewFormComponent_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 13);\n    i0.ɵɵtext(1, \" El ID de la casa es obligatorio. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ReviewFormComponent_div_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 13);\n    i0.ɵɵtext(1, \" La calificaci\\u00F3n es obligatoria. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ReviewFormComponent_div_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 13);\n    i0.ɵɵtext(1, \" El comentario es obligatorio. \");\n    i0.ɵɵelementEnd();\n  }\n}\nexport let ReviewFormComponent = /*#__PURE__*/(() => {\n  class ReviewFormComponent {\n    fb;\n    reviewService;\n    reviewForm;\n    constructor(fb, reviewService) {\n      this.fb = fb;\n      this.reviewService = reviewService;\n      this.reviewForm = this.fb.group({\n        listingId: ['', Validators.required],\n        rating: [null, Validators.required],\n        comment: ['', Validators.required]\n      });\n    }\n    ngOnInit() {}\n    onSubmit() {\n      if (this.reviewForm.valid) {\n        const reviewData = {\n          userId: parseInt(localStorage.getItem('currentUserId') || '', 10),\n          listingId: this.reviewForm.value.listingId,\n          rating: this.reviewForm.value.rating,\n          comment: this.reviewForm.value.comment,\n          createdAt: new Date()\n        };\n        // Llamar al servicio para enviar la reseña al backend\n        this.reviewService.addReview(reviewData).subscribe(response => {\n          console.log('Reseña agregada exitosamente', response);\n          this.reviewForm.reset();\n        }, error => {\n          console.error('Error al agregar reseña', error);\n        });\n      }\n    }\n    static ɵfac = function ReviewFormComponent_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || ReviewFormComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.ReviewService));\n    };\n    static ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: ReviewFormComponent,\n      selectors: [[\"app-review-form\"]],\n      standalone: true,\n      features: [i0.ɵɵStandaloneFeature],\n      decls: 26,\n      vars: 5,\n      consts: [[3, \"ngSubmit\", \"formGroup\"], [1, \"login-container\"], [1, \"form-group\"], [\"for\", \"listingId\"], [\"id\", \"listingId\", \"type\", \"text\", \"formControlName\", \"listingId\", \"required\", \"\", 1, \"form-control\"], [\"class\", \"error-message\", 4, \"ngIf\"], [\"for\", \"rating\"], [\"id\", \"rating\", \"type\", \"number\", \"formControlName\", \"rating\", \"min\", \"1\", \"max\", \"5\", \"required\", \"\", 1, \"form-control\"], [\"for\", \"comment\"], [\"id\", \"comment\", \"formControlName\", \"comment\", \"rows\", \"4\", \"required\", \"\", 1, \"form-control\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", 3, \"disabled\"], [1, \"regresar\"], [\"routerLink\", \"/home\"], [1, \"error-message\"]],\n      template: function ReviewFormComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"main\")(1, \"form\", 0);\n          i0.ɵɵlistener(\"ngSubmit\", function ReviewFormComponent_Template_form_ngSubmit_1_listener() {\n            return ctx.onSubmit();\n          });\n          i0.ɵɵelementStart(2, \"div\", 1)(3, \"h2\");\n          i0.ɵɵtext(4, \"Rese\\u00F1a\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(5, \"div\", 2)(6, \"label\", 3);\n          i0.ɵɵtext(7, \"ID de la Casa\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(8, \"input\", 4);\n          i0.ɵɵtemplate(9, ReviewFormComponent_div_9_Template, 2, 0, \"div\", 5);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(10, \"div\", 2)(11, \"label\", 6);\n          i0.ɵɵtext(12, \"Calificaci\\u00F3n\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(13, \"input\", 7);\n          i0.ɵɵtemplate(14, ReviewFormComponent_div_14_Template, 2, 0, \"div\", 5);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(15, \"div\", 2)(16, \"label\", 8);\n          i0.ɵɵtext(17, \"Comentario\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(18, \"textarea\", 9);\n          i0.ɵɵtemplate(19, ReviewFormComponent_div_19_Template, 2, 0, \"div\", 5);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(20, \"button\", 10);\n          i0.ɵɵtext(21, \"Enviar Rese\\u00F1a\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(22, \"div\", 11)(23, \"p\")(24, \"a\", 12);\n          i0.ɵɵtext(25, \"Regresar\");\n          i0.ɵɵelementEnd()()()()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"formGroup\", ctx.reviewForm);\n          i0.ɵɵadvance(8);\n          i0.ɵɵproperty(\"ngIf\", ctx.reviewForm.controls[\"listingId\"].invalid && ctx.reviewForm.controls[\"listingId\"].touched);\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"ngIf\", ctx.reviewForm.controls[\"rating\"].invalid && ctx.reviewForm.controls[\"rating\"].touched);\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"ngIf\", ctx.reviewForm.controls[\"comment\"].invalid && ctx.reviewForm.controls[\"comment\"].touched);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"disabled\", ctx.reviewForm.invalid);\n        }\n      },\n      dependencies: [ReactiveFormsModule, i1.ɵNgNoValidate, i1.DefaultValueAccessor, i1.NumberValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.RequiredValidator, i1.MinValidator, i1.MaxValidator, i1.FormGroupDirective, i1.FormControlName, CommonModule, i3.NgIf, RouterLink],\n      styles: [\"\\n\\n*[_ngcontent-%COMP%] {\\n  margin: 0;\\n  padding: 0;\\n  box-sizing: border-box;\\n  font-family: sans-serif;\\n}\\n\\n\\n\\n.login-container[_ngcontent-%COMP%] {\\n  max-width: 400px;\\n  width: 100%;\\n  background: rgba(82, 127, 141, 0.9);\\n  border-radius: 10px;\\n  padding: 40px 20px;\\n  margin: auto;\\n  box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.3);\\n}\\nmain[_ngcontent-%COMP%] {\\n  background-image: url('https://jzoykxtgshtojpikzhhd.supabase.co/storage/v1/object/public/homes/fondo.jpeg');\\n  background-size: cover;\\n  background-position: center;\\n  background-repeat: no-repeat;\\n  color: white;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  min-height: 100vh;\\n}\\n\\n\\n\\n.login-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%] {\\n  font-size: 24px;\\n  text-align: center;\\n  margin-bottom: 20px;\\n  color: #050505;\\n}\\n\\n\\n\\n.form-group[_ngcontent-%COMP%] {\\n  margin-top: 20px;\\n}\\n\\n.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%] {\\n  font-size: 16px;\\n  color: white;\\n  display: block;\\n}\\n\\n.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%] {\\n  width: 100%;\\n  padding: 10px;\\n  border: none;\\n  background: #f2f2f2;\\n  font-size: 16px;\\n  outline: none;\\n  border-radius: 5px;\\n  margin-top: 10px;\\n}\\n\\ntextarea[_ngcontent-%COMP%] {\\n  resize: vertical;\\n}\\n\\n\\n\\n.error-message[_ngcontent-%COMP%] {\\n  color: red;\\n  font-size: 14px;\\n  margin-top: 5px;\\n}\\n.regresar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\\n  display: inline-block;\\n  padding: 10px 20px;\\n  background-color: #007bff;\\n  color: white; \\n  font-size: 16px;\\n  text-decoration: none; \\n  border-radius: 5px; \\n  font-weight: bold;\\n  text-align: center;\\n  cursor: pointer;\\n  transition: background-color 0.3s, transform 0.2s;\\n}\\n\\n\\n\\n.regresar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover {\\n  background-color: #0056b3;\\n  transform: scale(1.05); \\n}\\n\\n\\n\\n.regresar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus {\\n  outline: none;\\n  box-shadow: 0 0 0 2px #ffcc00; \\n}\\n\\n\\n\\n.btn[_ngcontent-%COMP%] {\\n  display: block;\\n  width: 100%;\\n  padding: 12px;\\n  margin-top: 20px;\\n  border-radius: 8px;\\n  text-align: center;\\n  font-size: 17px;\\n  cursor: pointer;\\n  font-weight: bold;\\n  transition: background 0.3s;\\n}\\n\\n.btn-primary[_ngcontent-%COMP%] {\\n  background-color: #0ad156;\\n  color: black;\\n}\\n\\n.btn-primary[_ngcontent-%COMP%]:hover {\\n  background-color: #08a148;\\n}\\n\\n\\n\\n@media (max-width: 768px) {\\n  main[_ngcontent-%COMP%] {\\n    padding: 20px;\\n  }\\n\\n  .login-container[_ngcontent-%COMP%] {\\n    padding: 20px 15px;\\n  }\\n}\\n\\n@media (max-width: 480px) {\\n  .login-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%] {\\n    font-size: 20px;\\n  }\\n\\n  .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%] {\\n    padding: 10px;\\n    font-size: 15px;\\n  }\\n}\\n\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvZmVhdHVyZXMvcGFnZXMvcmV2aWV3cy9yZXZpZXctZm9ybS5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLHNCQUFzQjtBQUN0QjtFQUNFLFNBQVM7RUFDVCxVQUFVO0VBQ1Ysc0JBQXNCO0VBQ3RCLHVCQUF1QjtBQUN6Qjs7QUFFQSxlQUFlO0FBQ2Y7RUFDRSxnQkFBZ0I7RUFDaEIsV0FBVztFQUNYLG1DQUFtQztFQUNuQyxtQkFBbUI7RUFDbkIsa0JBQWtCO0VBQ2xCLFlBQVk7RUFDWiwyQ0FBMkM7QUFDN0M7QUFDQTtFQUNFLDJHQUEyRztFQUMzRyxzQkFBc0I7RUFDdEIsMkJBQTJCO0VBQzNCLDRCQUE0QjtFQUM1QixZQUFZO0VBQ1osYUFBYTtFQUNiLHVCQUF1QjtFQUN2QixtQkFBbUI7RUFDbkIsaUJBQWlCO0FBQ25COztBQUVBLDBCQUEwQjtBQUMxQjtFQUNFLGVBQWU7RUFDZixrQkFBa0I7RUFDbEIsbUJBQW1CO0VBQ25CLGNBQWM7QUFDaEI7O0FBRUEsb0NBQW9DO0FBQ3BDO0VBQ0UsZ0JBQWdCO0FBQ2xCOztBQUVBO0VBQ0UsZUFBZTtFQUNmLFlBQVk7RUFDWixjQUFjO0FBQ2hCOztBQUVBO0VBQ0UsV0FBVztFQUNYLGFBQWE7RUFDYixZQUFZO0VBQ1osbUJBQW1CO0VBQ25CLGVBQWU7RUFDZixhQUFhO0VBQ2Isa0JBQWtCO0VBQ2xCLGdCQUFnQjtBQUNsQjs7QUFFQTtFQUNFLGdCQUFnQjtBQUNsQjs7QUFFQSxzQkFBc0I7QUFDdEI7RUFDRSxVQUFVO0VBQ1YsZUFBZTtFQUNmLGVBQWU7QUFDakI7QUFDQTtFQUNFLHFCQUFxQjtFQUNyQixrQkFBa0I7RUFDbEIseUJBQXlCO0VBQ3pCLFlBQVk7RUFDWixlQUFlO0VBQ2YscUJBQXFCO0VBQ3JCLGtCQUFrQjtFQUNsQixpQkFBaUI7RUFDakIsa0JBQWtCO0VBQ2xCLGVBQWU7RUFDZixpREFBaUQ7QUFDbkQ7O0FBRUEsaUJBQWlCO0FBQ2pCO0VBQ0UseUJBQXlCO0VBQ3pCLHNCQUFzQjtBQUN4Qjs7QUFFQSxpREFBaUQ7QUFDakQ7RUFDRSxhQUFhO0VBQ2IsNkJBQTZCO0FBQy9COztBQUVBLHlCQUF5QjtBQUN6QjtFQUNFLGNBQWM7RUFDZCxXQUFXO0VBQ1gsYUFBYTtFQUNiLGdCQUFnQjtFQUNoQixrQkFBa0I7RUFDbEIsa0JBQWtCO0VBQ2xCLGVBQWU7RUFDZixlQUFlO0VBQ2YsaUJBQWlCO0VBQ2pCLDJCQUEyQjtBQUM3Qjs7QUFFQTtFQUNFLHlCQUF5QjtFQUN6QixZQUFZO0FBQ2Q7O0FBRUE7RUFDRSx5QkFBeUI7QUFDM0I7O0FBRUEsa0JBQWtCO0FBQ2xCO0VBQ0U7SUFDRSxhQUFhO0VBQ2Y7O0VBRUE7SUFDRSxrQkFBa0I7RUFDcEI7QUFDRjs7QUFFQTtFQUNFO0lBQ0UsZUFBZTtFQUNqQjs7RUFFQTtJQUNFLGFBQWE7SUFDYixlQUFlO0VBQ2pCO0FBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBFc3RpbG9zIGdlbmVyYWxlcyAqL1xyXG4qIHtcclxuICBtYXJnaW46IDA7XHJcbiAgcGFkZGluZzogMDtcclxuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xyXG4gIGZvbnQtZmFtaWx5OiBzYW5zLXNlcmlmO1xyXG59XHJcblxyXG4vKiBGb3JtdWxhcmlvICovXHJcbi5sb2dpbi1jb250YWluZXIge1xyXG4gIG1heC13aWR0aDogNDAwcHg7XHJcbiAgd2lkdGg6IDEwMCU7XHJcbiAgYmFja2dyb3VuZDogcmdiYSg4MiwgMTI3LCAxNDEsIDAuOSk7XHJcbiAgYm9yZGVyLXJhZGl1czogMTBweDtcclxuICBwYWRkaW5nOiA0MHB4IDIwcHg7XHJcbiAgbWFyZ2luOiBhdXRvO1xyXG4gIGJveC1zaGFkb3c6IDBweCA0cHggMTBweCByZ2JhKDAsIDAsIDAsIDAuMyk7XHJcbn1cclxubWFpbiB7XHJcbiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKCdodHRwczovL2p6b3lreHRnc2h0b2pwaWt6aGhkLnN1cGFiYXNlLmNvL3N0b3JhZ2UvdjEvb2JqZWN0L3B1YmxpYy9ob21lcy9mb25kby5qcGVnJyk7XHJcbiAgYmFja2dyb3VuZC1zaXplOiBjb3ZlcjtcclxuICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiBjZW50ZXI7XHJcbiAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDtcclxuICBjb2xvcjogd2hpdGU7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gIG1pbi1oZWlnaHQ6IDEwMHZoO1xyXG59XHJcblxyXG4vKiBUw4PCrXR1bG8gZGVsIGZvcm11bGFyaW8gKi9cclxuLmxvZ2luLWNvbnRhaW5lciBoMiB7XHJcbiAgZm9udC1zaXplOiAyNHB4O1xyXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICBtYXJnaW4tYm90dG9tOiAyMHB4O1xyXG4gIGNvbG9yOiAjMDUwNTA1O1xyXG59XHJcblxyXG4vKiBFc3RpbG8gZGUgbG9zIGNhbXBvcyBkZSBlbnRyYWRhICovXHJcbi5mb3JtLWdyb3VwIHtcclxuICBtYXJnaW4tdG9wOiAyMHB4O1xyXG59XHJcblxyXG4uZm9ybS1ncm91cCBsYWJlbCB7XHJcbiAgZm9udC1zaXplOiAxNnB4O1xyXG4gIGNvbG9yOiB3aGl0ZTtcclxuICBkaXNwbGF5OiBibG9jaztcclxufVxyXG5cclxuLmZvcm0tZ3JvdXAgaW5wdXQsIC5mb3JtLWdyb3VwIHRleHRhcmVhIHtcclxuICB3aWR0aDogMTAwJTtcclxuICBwYWRkaW5nOiAxMHB4O1xyXG4gIGJvcmRlcjogbm9uZTtcclxuICBiYWNrZ3JvdW5kOiAjZjJmMmYyO1xyXG4gIGZvbnQtc2l6ZTogMTZweDtcclxuICBvdXRsaW5lOiBub25lO1xyXG4gIGJvcmRlci1yYWRpdXM6IDVweDtcclxuICBtYXJnaW4tdG9wOiAxMHB4O1xyXG59XHJcblxyXG50ZXh0YXJlYSB7XHJcbiAgcmVzaXplOiB2ZXJ0aWNhbDtcclxufVxyXG5cclxuLyogTWVuc2FqZXMgZGUgZXJyb3IgKi9cclxuLmVycm9yLW1lc3NhZ2Uge1xyXG4gIGNvbG9yOiByZWQ7XHJcbiAgZm9udC1zaXplOiAxNHB4O1xyXG4gIG1hcmdpbi10b3A6IDVweDtcclxufVxyXG4ucmVncmVzYXIgYSB7XHJcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xyXG4gIHBhZGRpbmc6IDEwcHggMjBweDtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDA3YmZmO1xyXG4gIGNvbG9yOiB3aGl0ZTsgXHJcbiAgZm9udC1zaXplOiAxNnB4O1xyXG4gIHRleHQtZGVjb3JhdGlvbjogbm9uZTsgXHJcbiAgYm9yZGVyLXJhZGl1czogNXB4OyBcclxuICBmb250LXdlaWdodDogYm9sZDtcclxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgY3Vyc29yOiBwb2ludGVyO1xyXG4gIHRyYW5zaXRpb246IGJhY2tncm91bmQtY29sb3IgMC4zcywgdHJhbnNmb3JtIDAuMnM7XHJcbn1cclxuXHJcbi8qIEVmZWN0byBob3ZlciAqL1xyXG4ucmVncmVzYXIgYTpob3ZlciB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogIzAwNTZiMztcclxuICB0cmFuc2Zvcm06IHNjYWxlKDEuMDUpOyBcclxufVxyXG5cclxuLyogRWZlY3RvIGRlIGVuZm9xdWUgKGZvY3VzKSBwYXJhIGFjY2VzaWJpbGlkYWQgKi9cclxuLnJlZ3Jlc2FyIGE6Zm9jdXMge1xyXG4gIG91dGxpbmU6IG5vbmU7XHJcbiAgYm94LXNoYWRvdzogMCAwIDAgMnB4ICNmZmNjMDA7IFxyXG59XHJcblxyXG4vKiBFc3RpbG8gcGFyYSBlbCBib3TDg8KzbiAqL1xyXG4uYnRuIHtcclxuICBkaXNwbGF5OiBibG9jaztcclxuICB3aWR0aDogMTAwJTtcclxuICBwYWRkaW5nOiAxMnB4O1xyXG4gIG1hcmdpbi10b3A6IDIwcHg7XHJcbiAgYm9yZGVyLXJhZGl1czogOHB4O1xyXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICBmb250LXNpemU6IDE3cHg7XHJcbiAgY3Vyc29yOiBwb2ludGVyO1xyXG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xyXG4gIHRyYW5zaXRpb246IGJhY2tncm91bmQgMC4zcztcclxufVxyXG5cclxuLmJ0bi1wcmltYXJ5IHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMGFkMTU2O1xyXG4gIGNvbG9yOiBibGFjaztcclxufVxyXG5cclxuLmJ0bi1wcmltYXJ5OmhvdmVyIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDhhMTQ4O1xyXG59XHJcblxyXG4vKiBNZWRpYSBRdWVyaWVzICovXHJcbkBtZWRpYSAobWF4LXdpZHRoOiA3NjhweCkge1xyXG4gIG1haW4ge1xyXG4gICAgcGFkZGluZzogMjBweDtcclxuICB9XHJcblxyXG4gIC5sb2dpbi1jb250YWluZXIge1xyXG4gICAgcGFkZGluZzogMjBweCAxNXB4O1xyXG4gIH1cclxufVxyXG5cclxuQG1lZGlhIChtYXgtd2lkdGg6IDQ4MHB4KSB7XHJcbiAgLmxvZ2luLWNvbnRhaW5lciBoMiB7XHJcbiAgICBmb250LXNpemU6IDIwcHg7XHJcbiAgfVxyXG5cclxuICAuZm9ybS1ncm91cCBpbnB1dCwgLmZvcm0tZ3JvdXAgdGV4dGFyZWEsIC5idG4ge1xyXG4gICAgcGFkZGluZzogMTBweDtcclxuICAgIGZvbnQtc2l6ZTogMTVweDtcclxuICB9XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n    });\n  }\n  return ReviewFormComponent;\n})();","map":{"version":3,"names":["ReactiveFormsModule","Validators","CommonModule","RouterLink","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ReviewFormComponent","fb","reviewService","reviewForm","constructor","group","listingId","required","rating","comment","ngOnInit","onSubmit","valid","reviewData","userId","parseInt","localStorage","getItem","value","createdAt","Date","addReview","subscribe","response","console","log","reset","error","ɵɵdirectiveInject","i1","FormBuilder","i2","ReviewService","selectors","standalone","features","ɵɵStandaloneFeature","decls","vars","consts","template","ReviewFormComponent_Template","rf","ctx","ɵɵlistener","ReviewFormComponent_Template_form_ngSubmit_1_listener","ɵɵelement","ɵɵtemplate","ReviewFormComponent_div_9_Template","ReviewFormComponent_div_14_Template","ReviewFormComponent_div_19_Template","ɵɵadvance","ɵɵproperty","controls","invalid","touched","ɵNgNoValidate","DefaultValueAccessor","NumberValueAccessor","NgControlStatus","NgControlStatusGroup","RequiredValidator","MinValidator","MaxValidator","FormGroupDirective","FormControlName","i3","NgIf","styles"],"sources":["C:\\Users\\Nereida Ramos\\Downloads\\tercera_entrega_front\\src\\app\\features\\pages\\reviews\\review-form.component.ts","C:\\Users\\Nereida Ramos\\Downloads\\tercera_entrega_front\\src\\app\\features\\pages\\reviews\\review-form.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup, ReactiveFormsModule, Validators } from '@angular/forms';\r\nimport { ReviewService } from '../../../services/supabase/review.service';\r\nimport { CommonModule } from '@angular/common';\r\nimport { RouterLink } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-review-form',\r\n  standalone: true,\r\n  imports: [ReactiveFormsModule, CommonModule, RouterLink],\r\n  templateUrl: './review-form.component.html',\r\n  styleUrls: ['./review-form.component.css']\r\n})\r\nexport class ReviewFormComponent implements OnInit {\r\n  reviewForm: FormGroup;\r\n\r\n  constructor(private fb: FormBuilder, private reviewService: ReviewService) {\r\n    this.reviewForm = this.fb.group({\r\n      listingId: ['', Validators.required],  \r\n      rating: [null, Validators.required],\r\n      comment: ['', Validators.required]\r\n    });\r\n  }\r\n\r\n  ngOnInit(): void {}\r\n\r\n  onSubmit(): void {\r\n    if (this.reviewForm.valid) {\r\n      const reviewData = {\r\n        userId: parseInt(localStorage.getItem('currentUserId') || '', 10),  \r\n        listingId: this.reviewForm.value.listingId,  \r\n        rating: this.reviewForm.value.rating,\r\n        comment: this.reviewForm.value.comment,\r\n        createdAt: new Date(),  \r\n      };\r\n\r\n      // Llamar al servicio para enviar la reseña al backend\r\n      this.reviewService.addReview(reviewData).subscribe(\r\n        response => {\r\n          console.log('Reseña agregada exitosamente', response);\r\n          this.reviewForm.reset();\r\n        },\r\n        error => {\r\n          console.error('Error al agregar reseña', error);\r\n        }\r\n      );\r\n    }\r\n  }\r\n}\r\n","<main>\r\n  <form [formGroup]=\"reviewForm\" (ngSubmit)=\"onSubmit()\">\r\n    <div class=\"login-container\">\r\n      <h2>Reseña</h2>\r\n\r\n      <!-- ID de la Casa -->\r\n      <div class=\"form-group\">\r\n        <label for=\"listingId\">ID de la Casa</label>\r\n        <input \r\n          id=\"listingId\" \r\n          type=\"text\" \r\n          formControlName=\"listingId\" \r\n          class=\"form-control\" \r\n          required\r\n        />\r\n        <div *ngIf=\"reviewForm.controls['listingId'].invalid && reviewForm.controls['listingId'].touched\" class=\"error-message\">\r\n          El ID de la casa es obligatorio.\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Calificación -->\r\n      <div class=\"form-group\">\r\n        <label for=\"rating\">Calificación</label>\r\n        <input \r\n          id=\"rating\" \r\n          type=\"number\" \r\n          formControlName=\"rating\" \r\n          class=\"form-control\" \r\n          min=\"1\" \r\n          max=\"5\" \r\n          required\r\n        />\r\n        <div *ngIf=\"reviewForm.controls['rating'].invalid && reviewForm.controls['rating'].touched\" class=\"error-message\">\r\n          La calificación es obligatoria.\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Comentario -->\r\n      <div class=\"form-group\">\r\n        <label for=\"comment\">Comentario</label>\r\n        <textarea \r\n          id=\"comment\" \r\n          formControlName=\"comment\" \r\n          class=\"form-control\" \r\n          rows=\"4\" \r\n          required\r\n        ></textarea>\r\n        <div *ngIf=\"reviewForm.controls['comment'].invalid && reviewForm.controls['comment'].touched\" class=\"error-message\">\r\n          El comentario es obligatorio.\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Botón de enviar -->\r\n      <button type=\"submit\" class=\"btn btn-primary\" [disabled]=\"reviewForm.invalid\">Enviar Reseña</button>\r\n      <div class=\"regresar\">\r\n        <p><a routerLink=\"/home\">Regresar</a></p>\r\n      </div>\r\n    </div>\r\n  </form>\r\n</main>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}